@model LinesViewModel

<form asp-action="Lines" method="get">
    <table>
        <tr>
            <td><label asp-for="Query"></label></td>
            <td><input asp-for="Query"/></td>
            <td><span asp-validation-for="Query"></span></td>
        </tr>
        <tr>
            <td><label asp-for="Page"></label></td>
            <td><input asp-for="Page"/></td>
            <td><span asp-validation-for="Page"></span></td>
        </tr>
        <tr>
            <td><label asp-for="ItemsPerPage"></label></td>
            <td><input asp-for="ItemsPerPage"/></td>
            <td><span asp-validation-for="ItemsPerPage"></span></td>
        </tr>
        @for (int i = 0; i < Model.TrafficTypes.Length; i++) {
            <tr>
                @{ int i1 = i; }
                <td><label asp-for="@Model.TrafficTypes[i1].Checked">@Model.TrafficTypes[i1].Text</label></td>
                <td><input type="checkbox" asp-for="@Model.TrafficTypes[i1].Checked"/></td>
                <td><input type="hidden" asp-for="@Model.TrafficTypes[i1].Text"/></td>
                
                @* <td>@Model.TrafficTypes[i].Text</td> *@
                @* <td>@Html.CheckBoxFor(model => model.TrafficTypes[i1].Checked)</td> *@
                @* $1$ <td><input asp-for="TrafficTypes[i1  ].Checked" type="checkbox"/></td> #1# *@
                @* <td><input asp-for="TrafficTypes[i1].Text" type="hidden"/></td> *@
                @* $1$ <td>@Html.HiddenFor(model => model.TrafficTypes[i1].Text)</td> #1# *@
            </tr>
        }
    </table>
    <button type="submit">Search</button>
</form>